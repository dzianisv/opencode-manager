# OpenCode Manager - Native Local Development
# Copy this file to .env for local macOS development without Docker
#
# Usage:
#   pnpm start          - Start normally (spawns opencode serve)
#   pnpm start:client   - Connect to existing opencode instance
#   pnpm start:tunnel   - Start with Cloudflare tunnel
#
# Or directly:
#   bun scripts/start-native.ts --client --tunnel

# ============================================
# Backend Server Configuration
# ============================================
PORT=5001
HOST=0.0.0.0
CORS_ORIGIN=http://localhost:5173
NODE_ENV=development
LOG_LEVEL=info

# ============================================
# OpenCode Server
# ============================================
# Port to use when running opencode serve (normal mode)
# Or port to connect to (--client mode)
OPENCODE_SERVER_PORT=5551
OPENCODE_HOST=127.0.0.1

# Set to 'true' to connect to an existing opencode server
# instead of spawning one. Usually set automatically by start-native.ts --client
# OPENCODE_CLIENT_MODE=false

# ============================================
# Database
# ============================================
# Local SQLite database for settings and state
DATABASE_PATH=./data/opencode.db

# ============================================
# Workspace Configuration
# ============================================
# Where repos are cloned and managed
# For native mode, you might want to use a different path
WORKSPACE_PATH=./workspace

# ============================================
# Voice Services (Optional)
# ============================================
# Whisper STT - requires Python with faster-whisper
# WHISPER_PORT=5552
# WHISPER_HOST=127.0.0.1
# WHISPER_DEFAULT_MODEL=base
# WHISPER_VENV=./venv/whisper

# Chatterbox TTS - requires Python with chatterbox-tts
# CHATTERBOX_PORT=5553
# CHATTERBOX_HOST=127.0.0.1
# CHATTERBOX_DEVICE=auto
# CHATTERBOX_VENV=./venv/chatterbox

# ============================================
# API Keys (for AI providers)
# ============================================
# ANTHROPIC_API_KEY=sk-ant-...
# OPENAI_API_KEY=sk-...
# GEMINI_API_KEY=...
# OPENROUTER_API_KEY=...

# ============================================
# GitHub Token (for private repo access)
# ============================================
# GITHUB_TOKEN=ghp_...

# ============================================
# Timeouts (milliseconds)
# ============================================
PROCESS_START_WAIT_MS=2000
PROCESS_VERIFY_WAIT_MS=1000
HEALTH_CHECK_INTERVAL_MS=5000
HEALTH_CHECK_TIMEOUT_MS=30000

# ============================================
# File Limits (MB)
# ============================================
MAX_FILE_SIZE_MB=50
MAX_UPLOAD_SIZE_MB=50
